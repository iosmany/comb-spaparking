import{b as N,c as O,d as j,e as D,f as H,g as R}from"./chunk-3IK6JMNO.js";import{Aa as b,Ga as u,Ia as a,Ja as i,K as d,Ka as S,Ma as I,Oa as n,P as f,Pa as x,Q as T,Qa as s,Ra as E,Sa as w,Ta as F,ib as M,kb as _,na as p,o as g,ob as A,v as c,va as k}from"./chunk-L26F2MYK.js";var y=class r{constructor(t){this.http=t}getParkingAreas(t=0,e=10,o=0){let m=t*e,l=o?`/api/v1/parkingareas?skip=${m}&length=${e}&parkingAreaTypeId=${o}`:`/api/v1/parkingareas?skip=${m}&length=${e}`;return this.http.get(l).pipe(g(h=>h.data),c(h=>(console.error("Error fetching parking areas",h),[])))}static \u0275fac=function(e){return new(e||r)(f(A))};static \u0275prov=d({token:r,factory:r.\u0275fac,providedIn:"root"})};var P=class r{constructor(t){this.http=t}getParkingAreaTypes(){return this.http.get("/api/v1/parkingareatypes").pipe(g(t=>t.data),c(t=>(console.error("Error fetching parking areas",t),[])))}static \u0275fac=function(e){return new(e||r)(f(A))};static \u0275prov=d({token:r,factory:r.\u0275fac,providedIn:"root"})};function q(r,t){if(r&1&&(a(0,"option",12),n(1),i()),r&2){let e=t.$implicit;u("value",e.id),p(),s(" ",e.parkingAreaTypeDescription," ")}}function B(r,t){if(r&1&&(a(0,"tr")(1,"td"),n(2),i(),a(3,"td"),n(4),i(),a(5,"td"),n(6),i(),a(7,"td"),n(8),i()()),r&2){let e=t.$implicit;p(2),s(" ",e.parkingAreaName," "),p(2),s(" ",e.parkingAreaTypeDescription," "),p(2),s(" ",e.latitude," "),p(2),s(" ",e.longitude," ")}}var v=class r{title="Parking Areas";parkingAreaService=T(y);parkingAreaTypeService=T(P);page=0;length=50;totalItems=0;data=[];parkingAreaTypes=[];selectedParkingAreaType=0;ngOnInit(){this.load(),this.filter()}filter(){return this.parkingAreaService.getParkingAreas(this.page,this.length,this.selectedParkingAreaType).subscribe(t=>{this.data=t})}onParkingAreaTypeChange(){this.filter()}load(){this.parkingAreaTypeService.getParkingAreaTypes().subscribe(t=>{this.parkingAreaTypes=t})}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=k({type:r,selectors:[["app-parkingareateable"]],decls:25,vars:4,consts:[[1,"card"],[1,"card-header"],[1,"mb-0"],[1,"card-body"],[1,"row"],[1,"col-3"],[1,"form-control","form-control-sm",3,"ngModelChange","change","ngModel"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[3,"value"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"div",1)(2,"h5",2),n(3),i()(),a(4,"div",3)(5,"div",4)(6,"div",5)(7,"select",6),F("ngModelChange",function(l){return w(o.selectedParkingAreaType,l)||(o.selectedParkingAreaType=l),l}),I("change",function(){return o.onParkingAreaTypeChange()}),a(8,"option",7),n(9,"Showing All Area Types"),i(),b(10,q,2,2,"option",8),i()()()(),a(11,"div",9)(12,"table",10)(13,"thead")(14,"tr")(15,"th"),n(16,"Parking Area Name"),i(),a(17,"th"),n(18,"Parking Area Type"),i(),a(19,"th"),n(20,"Latitude"),i(),a(21,"th"),n(22,"Longitude"),i()()(),a(23,"tbody"),b(24,B,9,4,"tr",11),i()()()()),e&2&&(p(3),x(o.title),p(4),E("ngModel",o.selectedParkingAreaType),p(3),u("ngForOf",o.parkingAreaTypes),p(14),u("ngForOf",o.data))},dependencies:[R,D,H,j,N,O,_,M],encapsulation:2})};var $=class r{static \u0275fac=function(e){return new(e||r)};static \u0275cmp=k({type:r,selectors:[["app-parkingareasview"]],decls:1,vars:0,template:function(e,o){e&1&&S(0,"app-parkingareateable")},dependencies:[v],encapsulation:2})};export{$ as ParkingareasviewComponent};
